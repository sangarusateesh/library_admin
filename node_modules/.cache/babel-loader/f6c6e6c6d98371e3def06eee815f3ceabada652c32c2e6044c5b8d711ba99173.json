{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{Box,Button,Container,Grid,Typography,TextField}from'@mui/material';import Card from'@mui/material/Card';import CardContent from'@mui/material/CardContent';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){const usenavigate=useNavigate();useEffect(()=>{sessionStorage.clear();},[]);const[email,setEmail]=useState('');const[isValid,setIsValid]=useState(true);const handleChange=e=>{setEmail(e.target.value);};const handleSubmit=async event=>{event.preventDefault();// Validate email format\nconst isValidEmail=validateEmail(email);setIsValid(isValidEmail);if(isValidEmail){// Handle form submission\nconst dataToSend={email:email,password:'hhhhh',action:'login_user'// Replace with your data\n};axios.post('http://localhost/Tasks/AjaxController.php',dataToSend).then(response=>{if(response.data.response===true){sessionStorage.setItem('username',email);usenavigate(\"/dashboard\");}}).catch(error=>{//   setError(error);\n});}};const validateEmail=email=>{// Regular expression for email validation\nconst regex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return regex.test(email);};// const fetchData = async () => {\n//     try {\n//       const response = await fetch('http://192.168.97.167/AjaxController.php');\n//       if (!response.status == 'OK') {\n//         throw new Error('Network response was not ok');\n//       }\n//       const data = await response.json();\n//     //   setResponseData(data);\n//     } catch (error) {\n//       console.error('Error fetching data:', error);\n//     }\n// };\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",sx:{my:20},children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign In \"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"userEmail\",type:\"email\",label:\"Email Address\",name:\"email\",onChange:handleChange,error:!isValid,helperText:!isValid&&'Please enter a valid email address',value:email,autoFocus:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Sign In\"}),/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Link,{href:\"\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(Grid,{className:\"footer\",children:/*#__PURE__*/_jsxs(Typography,{component:\"h5\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{href:\"\",children:\"Sign Up\"})]})})]})]})})})})});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Box","Button","Container","Grid","Typography","TextField","Card","CardContent","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","usenavigate","sessionStorage","clear","email","setEmail","isValid","setIsValid","handleChange","e","target","value","handleSubmit","event","preventDefault","isValidEmail","validateEmail","dataToSend","password","action","post","then","response","data","setItem","catch","error","regex","test","children","component","maxWidth","sx","my","variant","margin","required","fullWidth","id","type","label","name","onChange","helperText","autoFocus","onClick","mt","mb","href","className"],"sources":["/home/satheesh/Documents/React/lcommerce/src/Login.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\nimport  { Link,useNavigate } from 'react-router-dom';\nimport {Box,Button,Container,Grid,Typography,TextField} from '@mui/material';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport axios from 'axios';\n\nfunction Login() {\n    const usenavigate = useNavigate();\n    useEffect(()=>{\n        sessionStorage.clear();\n    },[]);\n    const [email, setEmail] = useState('');\n    const [isValid, setIsValid] = useState(true);\n\n    const handleChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        // Validate email format\n        const isValidEmail = validateEmail(email);\n        setIsValid(isValidEmail);\n        if (isValidEmail) {\n          // Handle form submission\n          const dataToSend = {\n            email:email,\n            password:'hhhhh',\n            action: 'login_user' // Replace with your data\n          };\n      \n          axios.post('http://localhost/Tasks/AjaxController.php', dataToSend)\n            .then(response => {\n                if(response.data.response === true){\n                    sessionStorage.setItem('username',email);\n                    usenavigate(\"/dashboard\");\n                }\n            })\n            .catch(error => {\n            //   setError(error);\n            });\n        }\n    };\n\n    const validateEmail = (email) => {\n        // Regular expression for email validation\n        const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return regex.test(email);\n    };\n\n    // const fetchData = async () => {\n    //     try {\n    //       const response = await fetch('http://192.168.97.167/AjaxController.php');\n    //       if (!response.status == 'OK') {\n    //         throw new Error('Network response was not ok');\n    //       }\n    //       const data = await response.json();\n    //     //   setResponseData(data);\n    //     } catch (error) {\n    //       console.error('Error fetching data:', error);\n    //     }\n    // };\n\n    return (\n        <>\n            <Container component=\"main\" maxWidth=\"xs\" sx={{my:20}} >\n                <Card>\n                    <CardContent>\n                        <Box>\n                            <Typography component=\"h1\" variant=\"h5\">Sign In </Typography>\n                            <Box component=\"form\">\n                                <TextField\n                                    margin=\"normal\"\n                                    required\n                                    fullWidth\n                                    id=\"userEmail\"\n                                    type=\"email\"\n                                    label=\"Email Address\"\n                                    name=\"email\"\n                                    onChange={handleChange}\n                                    error={!isValid}\n                                    helperText={!isValid && 'Please enter a valid email address'}\n                                    value={email} \n                                    autoFocus\n                                />\n\n                                <TextField\n                                    margin=\"normal\"\n                                    required\n                                    fullWidth\n                                    name=\"password\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    id=\"password\"\n                                />\n                                <Button onClick={handleSubmit}\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    sx={{ mt: 3, mb: 2 }}\n                                    >Sign In\n                                </Button>\n                            <Grid>\n                            <Link href=\"\">Forgot password?</Link>\n                            </Grid>    \n                            <Grid className=\"footer\">\n                            <Typography component=\"h5\">\n                            Don't have an account? <Link href=\"\">Sign Up</Link>\n                            </Typography>\n                            </Grid>\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Container>\n        </>\n    );\n}\n   \n   export default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}